## Precompiled

Precompiled合约提供一种使用C++编写合约的方法，合约逻辑与数据分离，相比于solidity合约具有更好的性能，且可以通过修改底层代码实现合约升级。Precompiled合约支持交易并发处理，大幅提升交易处理吞吐量。预编译合约采用C++实现，内置于底层系统中，区块链自动识别调用合约的交易互斥信息，构建DAG依赖，规划出一个高效的并行交易执行路径。最佳情况下，性能提升可达到CPU核心数的倍数。

### 1. Precompiled合约与Solidity合约对比

||Precompiled合约|Solidity合约|
|:---|:---|:---|
|地址|固定地址，代码中定义|部署时确定|
|合约代码|数据与合约分离，可升级|不可更改|
|执行|C++底层执行，性能更高，可实现并行|EVM虚拟机|

### 2. 模块架构
Precompiled的架构如下图所示：
![](../../../images/precompiled/architecture.png)

- 区块验证器在执行交易的时候会根据被调用合约的地址来判断类型。地址1-4表示以太坊预编译合约，地址0x1000-0x10000是C++预编译合约，其他地址是EVM合约。

### 3. 关键流程

![](../../../images/precompiled/process.png)

### 3. 接口定义

